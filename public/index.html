<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="theme-color" content="#050505">
    
    <title>BLACK SIGNAL</title>
    <link rel="apple-touch-icon" href="/icon-192.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app">
        <nav class="tab-bar">
            <button class="tab-item active" data-tab="home">
                <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                <span>HOME</span>
            </button>
            <button class="tab-item" data-tab="history">
                <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                </svg>
                <span>LOGS</span>
            </button>
            <button class="tab-item" data-tab="send">
                <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
                <span>CMD</span>
            </button>
        </nav>

        <main class="tab-content">
            <section class="tab-pane active" id="homePane">
                <div class="pane-grid">
                    <div class="primary-column">
                        <header class="hero">
                            <span class="eyebrow">SYSTEM // STATUS</span>
                            <h1>Signal Desk</h1>
                            <p class="hero-subtitle">Secure transmission node. Authorized personnel only.</p>
                            <div class="hero-actions">
                                <div class="status-badge" id="statusBadge">
                                    <span class="status-dot"></span>
                                    <span id="statusText">CHECKING...</span>
                                </div>
                                <button id="subscribeBtn" class="btn btn-primary" disabled>
                                    INITIALIZE
                                </button>
                            </div>
                        </header>

                        <div class="stats-card card">
                            <div class="stat-item">
                                <span class="stat-label">Total Signals</span>
                                <span class="stat-value" id="statTotal">-</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">24h Activity</span>
                                <span class="stat-value" id="statToday">-</span>
                            </div>
                        </div>

                        <div class="card recent-section">
                            <div class="panel-head">
                                <div>
                                    <span class="eyebrow">FEED</span>
                                    <h3>Latest Signals</h3>
                                </div>
                            </div>
                            <div id="recentList" class="notification-list">
                                <div class="empty-state">
                                    <p>NO DATA</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <aside class="secondary-column">
                        <div class="card subscription-card">
                            <div class="card-body">
                                <span class="eyebrow">INFO</span>
                                <p class="card-desc" style="margin-top:0.5rem">Encrypted push channel active. Maintain operational security.</p>
                            </div>
                        </div>
                    </aside>
                </div>
            </section>

            <section class="tab-pane" id="historyPane">
                <div class="pane-grid single">
                    <div class="card">
                        <div class="panel-head between">
                            <div>
                                <span class="eyebrow">ARCHIVE</span>
                                <h3>Transmission Log</h3>
                            </div>
                        </div>
                        <div id="notificationList" class="notification-list full-list">
                            <div class="empty-state">
                                <p>NO RECORDS FOUND</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="tab-pane" id="sendPane">
                <div class="pane-grid single">
                    <div class="card send-panel">
                        <div class="panel-head">
                            <div>
                                <span class="eyebrow">OVERSIGHT</span>
                                <h3>Broadcast</h3>
                            </div>
                        </div>
                        
                        <form id="sendForm" class="send-form">
                            <div class="form-group secure-input">
                                <label for="apiKeyInput">Access Key</label>
                                <div class="secure-field">
                                    <input type="password" id="apiKeyInput" placeholder="••••••••" autocomplete="off">
                                    <button type="button" class="btn-icon toggle-password" id="toggleApiKey">
                                        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                            <circle cx="12" cy="12" r="3"></circle>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="titleInput">Header</label>
                                    <input type="text" id="titleInput" placeholder="SUBJECT" required maxlength="100">
                                </div>
                                
                                <div class="form-group">
                                    <label for="bodyInput">Payload</label>
                                    <textarea id="bodyInput" placeholder="MESSAGE CONTENT" required rows="3" maxlength="500"></textarea>
                                </div>
                                
                                <div class="form-group full">
                                    <label for="detailInput">Metadata (Optional)</label>
                                    <textarea id="detailInput" placeholder="JSON / DETAILS" rows="5" maxlength="2000"></textarea>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-primary btn-send" id="sendBtn">
                                EXECUTE
                            </button>
                        </form>
                        
                        <div id="sendResult" class="send-result" style="display: none;"></div>
                    </div>
                </div>
            </section>
        </main>

        <div class="detail-modal" id="detailModal">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <button class="btn-back" id="closeDetailBtn">
                        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="15 18 9 12 15 6"></polyline>
                        </svg>
                        RETURN
                    </button>
                </div>
                <div class="modal-body">
                    <div class="detail-header">
                        <h2 id="detailTitle"></h2>
                        <time id="detailTime"></time>
                    </div>
                    <p class="detail-body" id="detailBody"></p>
                    <div class="detail-content" id="detailContent"></div>
                </div>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>